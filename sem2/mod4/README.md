## RMQ 
ะะฐะฝะพ ัะธัะปะพ N ะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะธะท N ัะตะปัั ัะธัะตะป. ะะฐะนัะธ ะฒัะพััั ะฟะพััะดะบะพะฒัั ััะฐัะธััะธะบั ะฝะฐ ะทะฐะดะฐะฝะฝัั ะดะธะฐะฟะฐะทะพะฝะฐั.

ะคะพัะผะฐั ะฒัะพะดะฝัั ะดะฐะฝะฝัั.
ะ ะฟะตัะฒะพะน ัััะพะบะต ะทะฐะดะฐะฝั 2 ัะธัะปะฐ: ัะฐะทะผะตั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ N ะธ ะบะพะปะธัะตััะฒะพ ะดะธะฐะฟะฐะทะพะฝะพะฒ M. ะกะปะตะดัััะธะต N ัะตะปัั ัะธัะตะป ะทะฐะดะฐัั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั. ะะฐะปะตะต ะฒะฒะพะดัััั M ะฟะฐั ัะธัะตะป - ะณัะฐะฝะธั ะดะธะฐะฟะฐะทะพะฝะพะฒ.  ะะฐัะฐะฝัะธััะตััั, ััะพ ะบะฐะถะดัะน ะดะธะฐะฟะฐะทะพะฝ ัะพะดะตัะถะธั ะบะฐะบ ะผะธะฝะธะผัะผ 2 ัะปะตะผะตะฝัะฐ.
ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั.
ะะปั ะบะฐะถะดะพะณะพ ะธะท M ะดะธะฐะฟะฐะทะพะฝะพะฒ ะฝะฐะฟะตัะฐัะฐัั ัะปะตะผะตะฝั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ - 2ั ะฟะพััะดะบะพะฒัั ััะฐัะธััะธะบั. ะะพ ะพะดะฝะพะผั ัะธัะปั ะฒ ัััะพะบะต.

ะะปั ัะตัะตะฝะธั ะทะฐะดะฐัะธ ะธัะฟะพะปัะทัะนัะต ััััะบัััั ะดะฐะฝะฝัั Sparse Table. ะขัะตะฑัะตะผะพะต ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ ะบะฐะถะดะพะณะพ ะดะธะฐะฟะฐะทะพะฝะฐ O(1). ะัะตะผั ะฟะพะดะณะพัะพะฒะบะธ ััััะบัััั ะดะฐะฝะฝัั O(n log n).



##  ะะตัะตะฒะพ ะพััะตะทะบะพะฒ. ะกะธััะตะผะฐ ะฑัะพะฝะธัะพะฒะฐะฝะธั. 
ะะะ ะะพะฒัะต ะะตะปะตะทะฝัะต ะะพัะพะณะธ ะฟะพัััะธะปะพ ะฒะฐะผ ัะฐะทัะฐะฑะพัะฐัั ัะธััะตะผั ะฑัะพะฝะธัะพะฒะฐะฝะธั ะฑะธะปะตัะพะฒ ะฝะฐ ะฝะพะฒัะน ะผะฐััััั ะฟะพะตะทะดะฐ ะดะฐะปัะฝะตะณะพ ัะปะตะดะพะฒะฐะฝะธั. ะะฐััััั ะฟัะพัะพะดะธั ัะตัะตะท N ััะฐะฝัะธะน, ะทะฐะฝัะผะตัะพะฒะฐะฝะฝัั ะพั 0 ะดะพ N-1. ะะผะตััะธะผะพััั ะฟะพะตะทะดะฐ ะพะณัะฐะฝะธัะตะฝะฐ. ะ ัะธััะตะผั ะฑัะพะฝะธัะพะฒะฐะฝะธั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ะฟัะธัะพะดัั ะทะฐะฟัะพัั ะพั ะฟะฐััะฐะถะธัะพะฒ ั ัะบะฐะทะฐะฝะธะตะผ ะฝะพะผะตัะฐ ะฝะฐัะฐะปัะฝะพะน ะธ ะบะพะฝะตัะฝะพะน ััะฐะฝัะธะธ, ะฐ ัะฐะบะถะต ะบะพะปะธัะตััะฒะพ ะฑะธะปะตัะพะฒ, ะบะพัะพััะต ะฟะฐััะฐะถะธั ัะพัะตั ะฟัะธะพะฑัะตััะธ. ะขัะตะฑัะตะผะฐั ัะบะพัะพััั ะพะฑัะฐะฑะพัะบะธ ะบะฐะถะดะพะณะพ ะทะฐะฟัะพัะฐ - O(log N).
ะคะพัะผะฐั ะฒัะพะดะฝัั ะดะฐะฝะฝัั.
ะะตัะฒะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ัะธัะปะพ N โ ะบะพะปะธัะตััะฒะพ ััะฐะฝัะธะน (1 โค N โค 50 000). ะัะพัะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ะฝะฐัะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ ะฟัะพะดะฐะฝะฝัั ะฑะธะปะตัะพะฒ. ะ ะฟัะธะผะตัะต ะฟัะพะดะฐะฝะพ ะฟะพ ะพะดะฝะพะผั ะฑะธะปะตัั ะฝะฐ ะฟะตัะตะณะพะฝะฐั 0->1 ะธ 4->5. ะ ััะตััะตะน ัััะพะบะต ัะบะฐะทะฐะฝะฐ ะฒะผะตััะธะผะพััั ะฟะพะตะทะดะฐ. ะ ัะตัะฒัััะพะน - ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ ะฝะฐ ะฑัะพะฝะธัะพะฒะฐะฝะธะต. ะะฐะปะตะต ะธะดัั ะฝะตะฟะพััะตะดััะฒะตะฝะฝะพ ะทะฐะฟัะพัั ะฒ ะฒะธะดะต: ะฝะพะผะตั ะฝะฐัะฐะปัะฝะพะน ััะฐะฝัะธะธ, ะฝะพะผะตั ะบะพะฝะตัะฝะพะน ััะฐะฝัะธะธ, ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะฐัะธะฒะฐะตะผัั ะฑะธะปะตัะพะฒ.
ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั.
ะะตะพะฑัะพะดะธะผะพ ะฒัะฒะตััะธ ะฝะพะผะตัะฐ ะทะฐะฟัะพัะพะฒ, ะบะพัะพััะต ะฝะต ัะดะฐะปะพัั ะฒัะฟะพะปะฝะธัั ะธะท-ะทะฐ ะพััััััะฒะธั ัะฒะพะฑะพะดะฝัั ะผะตัั.

##  LCA 
ะะฐะดะฐะฝะพ ะดะตัะตะฒะพ ั ะบะพัะฝะตะผ, ัะพะดะตัะถะฐัะตะต ๐ (1 โค ๐ โค 100 000) ะฒะตััะธะฝ, ะฟัะพะฝัะผะตัะพะฒะฐะฝะฝัั ะพั 0 ะดะพ ๐โ1. ะขัะตะฑัะตััั ะพัะฒะตัะธัั ะฝะฐ ๐ (1 โค ๐ โค 10 000 000) ะทะฐะฟัะพัะพะฒ ะพ ะฝะฐะธะผะตะฝััะตะผ ะพะฑัะตะผ ะฟัะตะดะบะต ะดะปั ะฟะฐัั ะฒะตััะธะฝ. ะะฐะฟัะพัั ะณะตะฝะตัะธัััััั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ. ะะฐะดะฐะฝั ัะธัะปะฐ ๐1, ๐2 ะธ ัะธัะปะฐ ๐ฅ, ๐ฆ ะธ ๐ง. ะงะธัะปะฐ ๐3, . . . , ๐2๐ ะณะตะฝะตัะธัััััั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ: ๐๐ = (๐ฅยท๐๐โ2+๐ฆยท๐๐โ1+๐ง) mod ๐. ะะตัะฒัะน ะทะฐะฟัะพั ะธะผะตะตั ะฒะธะด โจ๐1, ๐2โฉ. ะัะปะธ ะพัะฒะตั ะฝะฐ ๐โ1-ะน ะทะฐะฟัะพั ัะฐะฒะตะฝ ๐ฃ, ัะพ ๐-ะน ะทะฐะฟัะพั ะธะผะตะตั ะฒะธะด โจ(๐2๐โ1 + ๐ฃ) mod ๐, ๐2๐โฉ.
ะะปั ัะตัะตะฝะธั ะทะฐะดะฐัะธ ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะผะตัะพะด ะดะฒะพะธัะฝะพะณะพ ะฟะพะดััะผะฐ.
ะคะพัะผะฐั ะฒัะพะดะฝัั ะดะฐะฝะฝัั.
ะะตัะฒะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ะดะฒะฐ ัะธัะปะฐ: ๐ ะธ ๐. ะะพัะตะฝั ะดะตัะตะฒะฐ ะธะผะตะตั ะฝะพะผะตั 0.
ะัะพัะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ๐ โ 1 ัะตะปัั ัะธัะตะป, ๐-ะต ะธะท ััะธั ัะธัะตะป ัะฐะฒะฝะพ ะฝะพะผะตัั ัะพะดะธัะตะปั ะฒะตััะธะฝั ๐.
ะขัะตััั ัััะพะบะฐ ัะพะดะตัะถะธั ะดะฒะฐ ัะตะปัั ัะธัะปะฐ ะฒ ะดะธะฐะฟะฐะทะพะฝะต ะพั 0 ะดะพ ๐โ1: ๐1 ะธ ๐2.
ะงะตัะฒะตััะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ััะธ ัะตะปัั ัะธัะปะฐ: ๐ฅ, ๐ฆ ะธ ๐ง, ััะธ ัะธัะปะฐ ะฝะตะพััะธัะฐัะตะปัะฝั ะธ ะฝะต ะฟัะตะฒะพััะพะดัั 109.
ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั.
ะัะฒะตะดะธัะต ะฒ ะฒััะพะดะฝะพะน ัะฐะนะป ััะผะผั ะฝะพะผะตัะพะฒ ะฒะตััะธะฝ โ ะพัะฒะตัะพะฒ ะฝะฐ ะฒัะต ะทะฐะฟัะพัั.

##  ะกัะฟะตั-ะผะฐััะธะฒ ัััะพะบ 
ะะตะฐะปะธะทัะนัะต ััััะบัััั ะดะฐะฝะฝัั โะผะฐััะธะฒ ัััะพะบโ ะฝะฐ ะพัะฝะพะฒะต ะดะตะบะฐััะพะฒะพะณะพ ะดะตัะตะฒะฐ ะฟะพ ะฝะตัะฒะฝะพะผั ะบะปััั ัะพ ัะปะตะดัััะธะผะธ ะผะตัะพะดะฐะผะธ:
// ะะพะฑะฐะฒะปะตะฝะธะต ัััะพะบะธ ะฒ ะฟะพะทะธัะธั position.
// ะัะต ะฟะพัะปะตะดัััะธะต ัััะพะบะธ ัะดะฒะธะณะฐัััั ะฝะฐ ะพะดะฝั ะฟะพะทะธัะธั ะฒะฟะตัะตะด.
void InsertAt( int position, const std::string& value );
// ะฃะดะฐะปะตะฝะธะต ัััะพะบะธ ะธะท ะฟะพะทะธัะธะธ position.
// ะัะต ะฟะพัะปะตะดัััะธะต ัััะพะบะธ ัะดะฒะธะณะฐัััั ะฝะฐ ะพะดะฝั ะฟะพะทะธัะธั ะฝะฐะทะฐะด.
void DeleteAt( int position );
// ะะพะปััะตะฝะธะต ัััะพะบะธ ะธะท ะฟะพะทะธัะธะธ position.
std::string GetAt( int position );
ะัะต ะผะตัะพะดั ะดะพะปะถะฝั ัะฐะฑะพัะฐัั ะทะฐ O(log n) ะฒ ััะตะดะฝะตะผ, ะณะดะต n โ ัะตะบััะตะต ะบะพะปะธัะตััะฒะพ ัััะพะบ ะฒ ะผะฐััะธะฒะต.
ะคะพัะผะฐั ะฒัะพะดะฝัั ะดะฐะฝะฝัั.
ะะตัะฒะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ะบะพะปะธัะตััะฒะพ ะบะพะผะฐะฝะด k โค 106.
ะะพัะปะตะดัััะธะต k ัััะพะบ ัะพะดะตัะถะฐั ะพะฟะธัะฐะฝะธั ะบะพะผะฐะฝะด:
ะะพะผะฐะฝะดะฐ โ+ 10 helloโ
ะพะทะฝะฐัะฐะตั ะดะพะฑะฐะฒะปะตะฝะธะต ัััะพะบะธ hello ะฒ ะฟะพะทะธัะธั 10.
ะะพะผะฐะฝะดะฐ โ- 14โ
ะพะทะฝะฐัะฐะตั ัะดะฐะปะตะฝะธะต ัััะพะบะธ ะธะท ะฟะพะทะธัะธะธ 14.
ะะพะผะฐะฝะดะฐ โ? 33โ
ะพะทะฝะฐัะฐะตั ะทะฐะฟัะพั ะฝะฐ ะฒัะฒะพะด ัััะพะบะธ ะธะท ะผะฐััะธะฒะฐ ะฒ ะฟะพะทะธัะธะธ 33.
ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั.
ะัะฒะตะดะธัะต ะฒัะต ัััะพะบะธ, ะทะฐะฟัะพัะตะฝะฝัะต ะบะพะผะฐะฝะดะฐะผะธ โ?โ.
